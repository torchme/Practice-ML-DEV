
## Сервисная Документация

### `/health`
**Метод**: `GET`
**Описание**: Проверка состояния сервиса.
**Ответ**: Возвращает статус сервиса. Пример ответа: `{"Status": "Healthy"}`.

### `/token`
**Метод**: `POST`
**Описание**: Аутентификация пользователя и получение токена доступа.
**Параметры**:
  - `username`: Имя пользователя.
  - `password`: Пароль пользователя.
**Ответ**: В случае успеха возвращает токен доступа и его тип. В случае ошибки возвращает сообщение об ошибке.

### `/user/signup`
**Метод**: `POST`
**Описание**: Регистрация нового пользователя.
**Параметры**:
  - `username`: Имя пользователя.
  - `password`: Пароль пользователя.
**Ответ**: Возвращает информацию о пользователе и токен доступа. В случае, если имя пользователя уже занято, возвращает сообщение об ошибке.

### `/user/signin`
**Метод**: `GET`
**Описание**: Вход пользователя в систему.
**Параметры**:
  - `username`: Имя пользователя.
  - `password`: Пароль пользователя.
**Ответ**: В случае успешной аутентификации возвращает информацию о пользователе и токен доступа. В случае ошибки возвращает сообщение об ошибке.

### `/user/increment_balance`
**Метод**: `POST`
**Описание**: Увеличение баланса пользователя.
**Параметры**:
  - `amount`: Сумма для добавления на баланс.
**Ответ**: Возвращает обновленную информацию о балансе пользователя.

### `/user/decrement_balance`
**Метод**: `POST`
**Описание**: Уменьшение баланса пользователя.
**Параметры**:
  - `amount`: Сумма для списания с баланса.
**Ответ**: Возвращает обновленную информацию о балансе пользователя.

### `/model/<model_name>`
**Метод**: `POST`
**Описание**: Выполнение предсказаний с использованием выбранной модели машинного обучения.
**Параметры**:
  - `model_name`: Название модели (например, "rcf", "lda", "gnb").
  - `data`: Данные для анализа в формате, определенном моделью `<model_name>`.
  - `current_user`: Автоматически подставляется и определяет текущего пользователя на основе токена доступа.
**Ответ**: В случае успешного предсказания возвращает результат предсказания. В случае недостаточного баланса или невалидного имени модели возвращает сообщение об ошибке.
**Детали реализации**:
  - Перед выполнением предсказания проверяется баланс пользователя на достаточность для оплаты выбранной модели.
  - В случае достаточного баланса происходит уменьшение баланса пользователя на стоимость модели.
  - Проводится предсказание на основе предоставленных данных с использованием выбранной модели.
  - Результат предсказания возвращается в ответе
**Пример запроса**:
```json
{
  "Gender": "Male",
  "Age_at_diagnosis": 45,
  // Другие поля данных
}
```
**Пример ответа**:
```json
{
  "prediction": "LGG"
}
```

### `/price`
**Метод**: `GET`
**Описание**: Получение списка доступных моделей машинного обучения и их цен.
**Ответ:** Возвращает список моделей с соответствующими ценами. Пример ответа: `{"models": {"rcf": 100, "lda": 200, "gnb": 300}}`.
